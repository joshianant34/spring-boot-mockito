name: build
on:
  pull_request:

jobs:
  build:
    name: Build and Run Tests
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Code
        uses: actions/checkout@v1
      - name: Build and Run Tests
        run: mvn surefire-report:report
      - name: Publish Test Report
        uses: mikepenz/action-junit-report@v3
        if: always() 
        with:
          report_paths: '**/target/site/surefire-*.html'
